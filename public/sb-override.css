/* StartButton overlay sizing overrides (external to bypass CSP inline-style restrictions) */
.cdk-global-overlay-wrapper:has(.cdk-overlay-pane:has(.mat-mdc-dialog-surface)),
body > .cdk-overlay-container > .cdk-global-overlay-wrapper:has(.cdk-overlay-pane:has(.mat-mdc-dialog-surface)),
.cdk-global-overlay-wrapper:has(.cdk-overlay-pane:has(.mat-dialog-container)),
body > .cdk-overlay-container > .cdk-global-overlay-wrapper:has(.cdk-overlay-pane:has(.mat-dialog-container)),
.cdk-global-overlay-wrapper:has(.cdk-overlay-pane:has(iframe[src*="startbutton"])) {
  display:flex!important;align-items:center!important;justify-content:center!important;
}

.cdk-overlay-pane:has(.mat-mdc-dialog-surface),
.cdk-overlay-pane:has(.mat-dialog-container),
.cdk-overlay-pane:has(iframe[src*="startbutton"]) {width:min(560px,94vw)!important;max-width:94vw!important;left:50%!important;transform:translateX(-50%)!important;margin:0 auto!important;}
body > .cdk-overlay-container > .cdk-global-overlay-wrapper > .cdk-overlay-pane:has(.mat-mdc-dialog-surface),
body > .cdk-overlay-container > .cdk-global-overlay-wrapper > .cdk-overlay-pane:has(.mat-dialog-container),
body > .cdk-overlay-container > .cdk-global-overlay-wrapper > .cdk-overlay-pane:has(iframe[src*="startbutton"]) {width:min(560px,94vw)!important;max-width:94vw!important;left:50%!important;transform:translateX(-50%)!important;margin:0 auto!important;}

.cdk-overlay-pane:has(iframe[src*="startbutton"]) iframe,
.cdk-overlay-pane:has(.mat-mdc-dialog-surface) .mat-mdc-dialog-surface,
.cdk-overlay-pane:has(.mat-dialog-container) .mat-dialog-container{width:100%!important;max-width:560px!important;display:block!important;margin:0 auto!important;}

/* Dialog element fallback */
dialog[open]{width:min(560px,94vw)!important;max-width:94vw!important;left:50%!important;transform:translateX(-50%)!important;margin:0 auto!important;display:block!important;}

/* Angular Material width variables */
:root{--mat-dialog-container-max-width:560px !important;--mat-dialog-container-small-max-width:560px !important;}
:host{--mat-dialog-container-max-width:560px !important;--mat-dialog-container-small-max-width:560px !important;}

/* StartButton light-DOM fallback (Angular Emulated, no iframe/CDK pane) */
sb-init section.bg-white,
sb-init section[class*="!w-[98vw]"],
sb-init [class*="!w-[98vw]"],
sb-init [class*="max-w-[450px]"]{
  width:min(560px,100%)!important;
  max-width:94vw!important;
  margin:0 auto!important;
  box-sizing:border-box!important;
  overflow-x:hidden!important;
  justify-self:center!important;
  align-self:center!important;
  left:auto!important;
  right:auto!important;
  transform:none!important;
}

/* Prevent horizontal scroll when sb-init is present */
html:has(sb-init), body:has(sb-init){overflow-x:hidden!important;}
sb-init, sb-init *{overflow-x:hidden!important;}

/* Neutralize w-screen within StartButton DOM to avoid viewport-width overflow */
sb-init .w-screen, sb-init [class*="w-screen"]{width:100%!important;}

/* Constrain images inside the StartButton card (e.g., brand badges) */
sb-init img{height:auto!important;max-height:18px!important;width:auto!important;max-width:100%!important;}

/* Neutralize problematic negative horizontal margins observed in header rows */
sb-init .mx-\[-25px\],
sb-init [class*="mx-[-25px]"]{
  margin-left:0!important;
  margin-right:0!important;
}

/* Force parent to center children vertically and horizontally */
sb-init article{
  display:flex!important;
  flex-direction:column!important;
  align-items:center!important;
  justify-content:center!important;
}

/* Ensure main white card section is centered */
sb-init article > section.bg-white{
  margin-left:auto!important;
  margin-right:auto!important;
}


/* Allow mouse interaction on Angular Material overlays (provider select) */
.cdk-overlay-container,.cdk-global-overlay-wrapper{pointer-events:auto!important;}
.cdk-overlay-pane{pointer-events:auto!important;}
/* Ensure the select dropdown panel receives pointer events and stacks above other overlays */
.cdk-overlay-container .cdk-overlay-pane .mat-mdc-select-panel{pointer-events:auto!important;z-index:100010!important;}
/* Ensure options within panel are clickable */
.cdk-overlay-container .mat-mdc-option,.cdk-overlay-container [role="option"]{pointer-events:auto!important;}

/* Center the header label and amount */
sb-init h4{width:100%!important;text-align:center!important;}
sb-init h4 + div{display:flex!important;justify-content:center!important;width:100%!important;}

/* Widen phone input and provider select to full width */
sb-init input[class*="!w-[80%]"]{width:100%!important;}
sb-init .mat-mdc-select{width:100%!important;}

/* Add spacing between the input box and action buttons */
sb-init .grid.w-full.gap-6.mt-8.border{margin-bottom:2rem!important;}

/* Neutralize extra bottom margin on the tab row to rely on the form's mt-8 only */
sb-init .link.text-sm[class*="!mb-3"]{margin-bottom:0!important;}

/* Neutralize extra top margin on the buttons row so spacing equals the form's bottom margin */
sb-init .flex.gap-2.w-full.items-center[class*="!mt-14"]{margin-top:0!important;}

@media (max-width: 640px), (pointer: coarse) {
  .cdk-overlay-container,
  .cdk-global-overlay-wrapper,
  body > .cdk-overlay-container,
  body > .cdk-overlay-container > .cdk-global-overlay-wrapper {
    position: fixed !important;
    inset: 0 !important;
    width: 100vw !important;
    height: 100dvh !important;
    max-height: 100dvh !important;
  }

  .cdk-global-overlay-wrapper:has(.cdk-overlay-pane:has(.mat-mdc-dialog-surface)),
  .cdk-global-overlay-wrapper:has(.cdk-overlay-pane:has(.mat-dialog-container)),
  .cdk-global-overlay-wrapper:has(.cdk-overlay-pane:has(iframe[src*="startbutton"])) {
    align-items: stretch !important;
    justify-content: stretch !important;
  }

  .cdk-overlay-pane:has(.mat-mdc-dialog-surface),
  .cdk-overlay-pane:has(.mat-dialog-container),
  .cdk-overlay-pane:has(iframe[src*="startbutton"]) {
    position: fixed !important;
    inset: 0 !important;
    width: 100vw !important;
    height: 100dvh !important;
    max-width: 100vw !important;
    max-height: 100dvh !important;
    left: 0 !important;
    transform: none !important;
    margin: 0 !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
  }

  .cdk-overlay-pane:has(iframe[src*="startbutton"]) iframe {
    width: 100vw !important;
    height: 100dvh !important;
    max-width: 100vw !important;
    max-height: 100dvh !important;
    display: block !important;
  }

  dialog[open] {
    width: 100vw !important;
    height: 100dvh !important;
    max-width: 100vw !important;
    max-height: 100dvh !important;
    left: 0 !important;
    transform: none !important;
    margin: 0 !important;
  }

  sb-init {
    position: fixed !important;
    inset: 0 !important;
    width: 100vw !important;
    height: 100dvh !important;
    max-height: 100dvh !important;
    overflow-y: auto !important;
    -webkit-overflow-scrolling: touch !important;
    padding-top: env(safe-area-inset-top) !important;
    padding-bottom: env(safe-area-inset-bottom) !important;
  }
}
